<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Deploying the Application via Web User Interface · GenieWebApp.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://csc-training.github.io/GenieWebApp.jl/openshift/web-user-interface/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">GenieWebApp.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">About Web Technologies and Cloud Computing</a></li><li><span class="tocitem">Developing a Genie Application</span><ul><li><a class="tocitem" href="../../genie/development/">Building an MVC Application</a></li><li><a class="tocitem" href="../../genie/testing/">Testing the Application</a></li></ul></li><li><span class="tocitem">Deploying to Virtual Machine using OpenStack (v5.5)</span><ul><li><a class="tocitem" href="../../openstack/web-user-interface/">Setting up a Virtual Machine via Web User Interface</a></li><li><a class="tocitem" href="../../openstack/command-line-interface/">Setting up a Virtual Machine via Command Line Interface</a></li><li><a class="tocitem" href="../../openstack/deployment/">Deploying the Application to a Virtual Machine</a></li><li><a class="tocitem" href="../../openstack/deletion/">Deleting the Application and Virtual Machine</a></li></ul></li><li><span class="tocitem">Deploying to OpenShift Container Platform (v3.11)</span><ul><li><a class="tocitem" href="../container/">Creating a Container for the Application</a></li><li class="is-active"><a class="tocitem" href>Deploying the Application via Web User Interface</a><ul class="internal"><li><a class="tocitem" href="#Creating-a-Project"><span>Creating a Project</span></a></li><li><a class="tocitem" href="#Deploying-the-Application"><span>Deploying the Application</span></a></li><li><a class="tocitem" href="#Creating-a-Secure-Route"><span>Creating a Secure Route</span></a></li><li><a class="tocitem" href="#Setting-Up-Persistent-Storage"><span>Setting Up Persistent Storage</span></a></li></ul></li><li><a class="tocitem" href="../command-line-interface/">Deploying the Application via Command Line Interface</a></li><li><a class="tocitem" href="../deletion/">Deleting the Application</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Deploying to OpenShift Container Platform (v3.11)</a></li><li class="is-active"><a href>Deploying the Application via Web User Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Deploying the Application via Web User Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/csc-training/GenieWebApp.jl/blob/master/docs/src/openshift/web-user-interface.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Deploying-the-Application-via-Web-User-Interface"><a class="docs-heading-anchor" href="#Deploying-the-Application-via-Web-User-Interface">Deploying the Application via Web User Interface</a><a id="Deploying-the-Application-via-Web-User-Interface-1"></a><a class="docs-heading-anchor-permalink" href="#Deploying-the-Application-via-Web-User-Interface" title="Permalink"></a></h1><h2 id="Creating-a-Project"><a class="docs-heading-anchor" href="#Creating-a-Project">Creating a Project</a><a id="Creating-a-Project-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Project" title="Permalink"></a></h2><p>This section explores how to use the <a href="https://rahti.csc.fi:8443/"><strong>Rahti Web User Interface</strong></a> to deploy an application. We can log in and press <em>Create Project</em> with a unique name that we denote with <code>&lt;project&gt;</code>, which you should substitute with the actual name.</p><h2 id="Deploying-the-Application"><a class="docs-heading-anchor" href="#Deploying-the-Application">Deploying the Application</a><a id="Deploying-the-Application-1"></a><a class="docs-heading-anchor-permalink" href="#Deploying-the-Application" title="Permalink"></a></h2><h3 id="Creating-an-Empty-Image-Stream"><a class="docs-heading-anchor" href="#Creating-an-Empty-Image-Stream">Creating an Empty Image Stream</a><a id="Creating-an-Empty-Image-Stream-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-an-Empty-Image-Stream" title="Permalink"></a></h3><p>We need to build a container image for the application to deploy it on OpenShift. OpenShift is capable of building container images in the cloud. To perform the build, we need to login to <a href="https://registry-console.rahti.csc.fi/"><strong>Rahti Container Registry</strong></a> and create an empty image stream for our application with the following parameters.</p><ul><li><em>Name</em>: <code>genie</code></li><li><em>Project</em>: <code>&lt;project&gt;</code></li><li><em>Populate</em>: <code>Create empty image stream</code></li></ul><h3 id="Creating-a-Build-Configuration"><a class="docs-heading-anchor" href="#Creating-a-Build-Configuration">Creating a Build Configuration</a><a id="Creating-a-Build-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Build-Configuration" title="Permalink"></a></h3><p>Next, we should switch to the Rahti Web User Interface and choose the project. Then, we can build the container image from the specified GitHub repository to the empty image stream on Rahti Container Registry using a build configuration.  Start by selecting <em>Import YAML/JSON</em>, then copying and pasting the YAML configuration below.</p><pre><code class="language-yaml hljs">apiVersion: v1
kind: BuildConfig
metadata:
  name: genie
spec:
  runPolicy: Serial
  source:
    git:
      uri: &#39;https://github.com/csc-training/GenieWebApp.jl&#39;
  strategy:
    type: Docker
  output:
    to:
      kind: ImageStreamTag
      name: &#39;genie:latest&#39;</code></pre><p>The OKD documentation explains the build configurations in <a href="https://docs.okd.io/3.11/dev_guide/builds/index.html">How Builds Work</a>.</p><h3 id="Starting-a-Build"><a class="docs-heading-anchor" href="#Starting-a-Build">Starting a Build</a><a id="Starting-a-Build-1"></a><a class="docs-heading-anchor-permalink" href="#Starting-a-Build" title="Permalink"></a></h3><p>Next, we need to initiate the container image build by navigating to the <em>Builds</em> tab, selecting <code>genie</code> build, and pressing <em>Start Build</em>. Once OpenShift has completed the build, we can deploy the image by selecting <em>Deploy Image</em> from the <em>Add to Project</em> menu and then deploying an <em>Image Stream Tag</em> with the following parameters:</p><ul><li><em>Namespace</em>: <code>&lt;project&gt;</code></li><li><em>Image Stream</em>: <code>genie</code></li><li><em>Tag</em>: <code>latest</code></li></ul><p>Now, we have the application running on OpenShift.</p><h2 id="Creating-a-Secure-Route"><a class="docs-heading-anchor" href="#Creating-a-Secure-Route">Creating a Secure Route</a><a id="Creating-a-Secure-Route-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-a-Secure-Route" title="Permalink"></a></h2><p>By creating a route, we can expose the application to the internet. We can create a new route by selecting <em>Create Route</em> with the following parameters.</p><ul><li><em>Name</em>: <code>genie</code></li><li><em>Hostname</em>: <code>genie.rahtiapp.fi</code></li><li><em>Path</em>: <code>/</code></li><li><em>Service</em>: <code>genie</code></li><li><em>Target Port</em>: <code>8000 → 8000 (TCP)</code></li><li><em>Security</em>: <code>Secure route</code><ul><li><em>TLS Termination</em>: <code>Edge</code></li><li><em>Insecure Traffic</em>: <code>Redirect</code></li></ul></li></ul><p>By selecting <code>Secure Route</code>, we enforce a secure connection via HTTPS. Therefore, our application should now be available under the address <code>https://genie.rahtiapp.fi</code>.</p><h2 id="Setting-Up-Persistent-Storage"><a class="docs-heading-anchor" href="#Setting-Up-Persistent-Storage">Setting Up Persistent Storage</a><a id="Setting-Up-Persistent-Storage-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-Up-Persistent-Storage" title="Permalink"></a></h2><p>We can set up <a href="https://docs.csc.fi/cloud/rahti/storage/persistent/">persistent storage</a> to the application by selecting <em>Storage</em> and then <em>Create Storage</em> with the following parameters:</p><ul><li><em>Storage class</em>: <code>glusterfs-storage</code></li><li><em>Name</em>: <code>genie-volume</code></li><li><em>Access Mode</em>: <code>Shared Access (RWX)</code></li></ul><p>Next, we select <em>Applications</em>, then <em>Deployments</em>, and finally your Genie application deployment. From the <em>Actions</em> menu, select <em>Add Storage</em> with the following parameters:</p><ul><li><em>Storage</em>: <code>genie-volume</code></li><li><em>Mount path</em>: <code>/home/genie/app/data</code></li></ul><p>Now the persistent storage is mounted inside the Genie application&#39;s <code>data</code> directory.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../container/">« Creating a Container for the Application</a><a class="docs-footer-nextpage" href="../command-line-interface/">Deploying the Application via Command Line Interface »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.6 on <span class="colophon-date" title="Thursday 9 September 2021 10:58">Thursday 9 September 2021</span>. Using Julia version 1.6.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
